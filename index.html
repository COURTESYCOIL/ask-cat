<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ask Cat</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Pathway+Gothic+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #0f0f0f;
            --white: #f8f8f8;
            --yellow: #ffbc42;
            --blue: #0496ff;
            --green: #5fad56;
            --red: #e63946;
        }

        /* All CSS is the same */
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; font-family: 'Press Start 2P', cursive; }
        .screen { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; text-align: center; flex-direction: column; box-sizing: border-box; padding: 20px; }
        #loading-screen { background-color: var(--black); color: var(--white); }
        .loading-title { font-size: 2rem; margin-bottom: 40px; }
        #loading-screen .menu-button { color: var(--white); border-color: var(--white); }
        #loading-screen .menu-button:hover { color: var(--black); background-color: var(--white); }
        #tos-screen { display: none; background-color: var(--black); color: var(--white); }
        .tos-title { font-size: 2.5rem; margin-bottom: 20px; }
        .tos-text { font-size: 1.2rem; max-width: 600px; line-height: 1.6; margin-bottom: 40px; }
        #start-screen { display: none; background: linear-gradient(-45deg, #ffffff, #f2f2f2, #e8e8e8, #fdfdfd); background-size: 400% 400%; animation: gradientShift 15s ease infinite; position: relative; }
        @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .header { display: flex; justify-content: center; align-items: baseline; gap: 15px; }
        .sketch-title { font-size: 4rem; color: #000; text-transform: uppercase; animation: sketchy 2s steps(2, end) infinite; }
        .version-text { font-size: 1rem; color: #333; transform: translateY(-5px); }
        @keyframes sketchy { 0% { transform: translate(0, 0) rotate(0); } 25% { transform: translate(-1px, 1px) rotate(-0.5deg); } 50% { transform: translate(1px, -1px) rotate(0.5deg); } 75% { transform: translate(1px, 1px) rotate(0); } 100% { transform: translate(0, 0) rotate(0); } }
        .menu { margin-top: 40px; display: flex; flex-direction: column; gap: 20px; align-items: center; }
        .menu-row { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center;}
        .menu-button { display: inline-block; padding: 15px 35px; font-size: 1.5rem; text-decoration: none; text-transform: uppercase; border: 4px solid; transition: all 0.15s ease-out; color: #000; border-color: #000; }
        .menu-button:hover { color: #fff; background-color: #000; transform: translateY(-4px); box-shadow: 0 8px 0 rgba(0,0,0,0.2); cursor: pointer; }
        #menu-cat-gif { position: absolute; bottom: 20px; right: 20px; width: 150px; height: auto; }
        #game-screen { display: none; position: relative; background-color: #f0f0f0; }
        #game-back-button { position: absolute; top: 30px; left: 30px; z-index: 20; padding: 10px 20px; border: 2px solid #000; border-radius: 8px; background: #f0f0f0; font-size: 1rem; text-decoration: none; color: #000; cursor: pointer; transition: all 0.2s ease; }
        #game-back-button:hover { background: #000; color: #fff; }
        .cat-container { position: absolute; bottom: 100px; right: 30px; width: 200px; }
        .cat-gif { width: 100%; height: auto; cursor: pointer; }
        #ai-bubble { display: none; position: absolute; top: -120px; left: -180px; width: 350px; z-index: 10; padding: 15px; background: #fff; border: 2px solid #000; border-radius: 12px; }
        #ai-response-text { font-family: 'Press Start 2P', cursive; max-height: 150px; overflow-y: auto; text-align: left; font-size: 0.9rem; line-height: 1.5; color: #000;}
        #gif-bubble { display: none; position: absolute; top: -150px; left: -200px; width: 250px; z-index: 9; }
        #user-input-container { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); width: 80%; max-width: 600px; z-index: 20; background: #fff; border: 2px solid #000; border-radius: 12px; padding: 5px; }
        #prompt-form { display: flex; }
        #prompt-input { flex-grow: 1; border: none; padding: 15px; font-family: 'Press Start 2P', cursive; font-size: 0.8rem; background: transparent; outline: none; }
        #prompt-submit { border: none; border-left: 2px solid #000; background: transparent; color: #000; padding: 15px 25px; font-family: 'Press Start 2P', cursive; font-size: 0.8rem; cursor: pointer; transition: all 0.2s ease; }
        #prompt-submit:hover { background: #000; color: #fff; }
        #prompt-submit:disabled { background: #ccc; cursor: not-allowed; }
        #achievements-screen { display: none; background-color: #000000; overflow: hidden; width: 100%; height: 100%; justify-content: flex-start; align-items: flex-end; }
        .stars, .stars2, .stars3 { position: absolute; top: 0; left: 0; right: 0; bottom: 0; width: 100%; height: 100%; display: block; }
        .stars { background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAHBJREFUWAnF2EEKACAMAkDnf8rsX3so1Y1R0lIqDPnkaeK25zgp26AFLAAVeACa8AEiwAV4xG2gAbwBXeAEOIAbeAdkQAOEwA34AEnQA2ZAnsIGXAAz4A4cgDbwBDwBTuAt8AF5A1iFDf4h+gEw3y2jBwM6nAAAAABJRU5ErkJggg==) repeat top center; animation: move-twink-back 200s linear infinite; }
        .stars2 { background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIVJREFUWAnl2MEKgCAQBVA2/v+XyylhYyKkiJ3Gg9cR2BweA0eAc+AUsAFcoAZwA5bAG/gFfMABaAEOXAGbwAZwAxfAHeAGXAGL4CVwBlyBD6AFLIDfA1igA+wAn+AVeAEuQBv4BU7bA2fAGXAGPAGfwAgcgT3wBDwBS+AVeAE+AY/gD/y/3gEBhC2lJ98L5AAAAABJRU5ErkJggg==) repeat top center; animation: move-twink-back 150s linear infinite; }
        .stars3 { background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIhJREFUWAnl2MEKgCAQBVA2/v+Xy3lSJoWIbWLj8eA0g3MMCgwBR+AWXAH2wBvYAlfgBlyBq3AFboA7cAZcgc/gBTgDF8AbcAMcwFfQCnABbAAvgA/gBbyC92AJ/ALGwCswAW7BFfAAnIBDcAZcgTdgCdwBOKAZgN/gA3gCj8Ab8AG8An9g/r4CAyBfje9O8SgAAAAASUVORK5CYII=) repeat top center; animation: move-twink-back 100s linear infinite; }
        @keyframes move-twink-back { from {background-position:0 0;} to {background-position:-10000px 5000px;} }
        .achievements-content { z-index: 10; width: 50%; max-width: 600px; height: calc(100% - 100px); display: flex; flex-direction: column; gap: 15px; overflow-y: auto; padding-right: 30px; }
        .achievements-content::-webkit-scrollbar { display: none; } .achievements-content { scrollbar-width: none; }
        .achievements-title { font-size: 1.5rem; color: var(--green); text-align: left; }
        .category-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .category-title { font-size: 1rem; color: var(--white); text-align: left; padding-bottom: 8px; border-bottom: 2px solid #444; flex-grow: 1; }
        .category-toggle { font-size: 1.2rem; color: var(--yellow); margin-left: 15px; }
        .category-content.collapsed { display: none; }
        .category-content .placeholder { color: #666; font-size: 0.8rem; text-align: left; margin-left: 20px; }
        .achievement-card { position: relative; display: flex; gap: 20px; background-color: transparent; border: 3px solid var(--white); padding: 20px; text-align: left; transition: opacity 0.4s ease; }
        .achievement-card.locked { opacity: 0.6; }
        .achievement-icon { width: 80px; height: 80px; border: 3px solid var(--blue); flex-shrink: 0; display: flex; justify-content: center; align-items: center; font-size: 2rem; color: var(--white); }
        .achievement-icon .icon-image { width: 90%; height: 90%; object-fit: contain; }
        .locked .icon-image { display: none; } .unlocked .icon-text { display: none; }
        .achievement-details h3 { font-size: 1rem; margin-bottom: 10px; color: var(--yellow); }
        .achievement-details p { font-size: 0.8rem; color: var(--white); text-transform: none; }
        .achievement-status { position: absolute; top: 10px; right: 15px; font-size: 0.8rem; text-transform: uppercase; }
        .locked .achievement-status { color: var(--red); } .unlocked .achievement-status { color: var(--green); }
        .scrollbar { position: absolute; right: 30px; top: 25%; height: 50%; width: 2px; background-color: #555; }
        .scrollbar-thumb { width: 10px; height: 10px; background-color: var(--white); border-radius: 50%; position: absolute; top: 0; left: 50%; transform: translateX(-50%); }
        #achievements-back-button { position: absolute; top: 20px; left: 20px; z-index: 20; color: var(--white); border: 2px solid var(--white); background: transparent; padding: 10px 20px; font-size: 1rem; text-decoration: none; cursor: pointer; }
        #achievements-back-button:hover { background: var(--white); color: var(--black); }
        #achievement-popup { position: absolute; top: 30px; left: 50%; transform: translateX(-50%); padding: 15px 25px; background: #fff; border: 2px solid #000; border-radius: 8px; color: #000; z-index: 100; font-size: 0.9rem; opacity: 0; visibility: hidden; transition: opacity 0.5s, visibility 0.5s; }
        #achievement-popup.show { opacity: 1; visibility: visible; }
        #credits-screen { display: none; background: #000; cursor: pointer; }
        .fade { position: absolute; width: 100%; height: 40vh; top: 0; background-image: linear-gradient(0deg, transparent, black 75%); z-index: 1; }
        .star-wars { display: flex; justify-content: center; position: relative; height: 800px; color: #feda4a; font-family: 'Pathway Gothic One', sans-serif; font-size: 300%; font-weight: 600; letter-spacing: 6px; line-height: 150%; perspective: 400px; text-align: justify; }
        .crawl { position: relative; top: 9999px; transform-origin: 50% 100%; animation: crawl 60s linear; animation-fill-mode: forwards; }
        .crawl > .title { font-size: 90%; text-align: center; }
        .crawl > .title h1 { margin: 0 0 100px; text-transform: uppercase; }
        @keyframes crawl { 0% { top: 800px; transform: rotateX(20deg)  translateZ(0); } 100% { top: -6000px; transform: rotateX(25deg) translateZ(-2500px); } }
        #announcement-gif { position: absolute; top: 20px; right: 20px; width: 80px; cursor: pointer; }
        #announcement-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 200; justify-content: center; align-items: center; }
        .modal-content { background: #fff; border: 4px solid #000; padding: 30px; width: 80%; max-width: 500px; text-align: left; }
        .modal-content h2 { font-size: 1.2rem; margin-top: 0; }
        .modal-content ul { list-style: '- '; padding-left: 20px; }
        .modal-content li { font-size: 1rem; margin-bottom: 10px; }
        .modal-close { margin-top: 20px; padding: 10px 20px; font-size: 1rem; cursor: pointer; border: 2px solid #000; background: #fff; }
        .modal-close:hover { background: #000; color: #fff; }
        #community-screen { display: none; background-color: var(--black); }
        #community-back-button { position: absolute; top: 20px; left: 20px; z-index: 20; color: var(--white); border: 2px solid var(--white); background: transparent; padding: 10px 20px; font-size: 1rem; text-decoration: none; cursor: pointer; }
        #community-back-button:hover { background: var(--white); color: var(--black); }
    </style>
</head>
<body>
    <div id="loading-screen" class="screen">
        <h1 class="loading-title">Ask Cat</h1>
        <a href="#" id="start-button" class="menu-button">Start</a>
    </div>
    <div id="tos-screen" class="screen">
        <h1 class="tos-title">Ask Cat TOS</h1> <p class="tos-text">Idk what to type here :P</p> <a href="#" id="accept-button" class="menu-button">Accept</a>
    </div>
    <div id="start-screen" class="screen">
        <header class="header"> <h1 class="sketch-title">Ask Cat</h1> <span class="version-text">v0.1</span> </header>
        <nav class="menu">
            <div class="menu-row">
                <a href="#" id="play-button" class="menu-button">Play</a>
                <a href="#" id="achievements-button" class="menu-button">Achievements</a>
            </div>
            <div class="menu-row">
                <a href="#" id="credits-button" class="menu-button">Credits</a>
                <a href="#" id="community-button" class="menu-button">Community</a>
            </div>
        </nav>
        <img id="menu-cat-gif" src="61efd4cf-f8ef-4bcb-b8eb-c23a18cf332e-ezgif.com-crop.gif" alt="A cute cat">
        <img id="announcement-gif" src="giphy.gif" alt="Announcements">
    </div>
    <div id="game-screen" class="screen">
        <a href="#" id="game-back-button">BACK</a>
        <div class="cat-container">
            <img id="cat-image" class="cat-gif" src="ezgif-300a09fbddc6f2.gif" alt="A friendly cat">
            <div id="ai-bubble"> <div id="ai-response-text">Ask me something...</div> </div>
            <img id="gif-bubble" src="ezgif.com-cut.gif" alt="cat says hello">
        </div>
        <div id="user-input-container">
            <form id="prompt-form">
                <input id="prompt-input" type="text" autocomplete="off" placeholder="Ask Cat a question...">
                <button id="prompt-submit" type="submit">ASK</button>
            </form>
        </div>
        <div id="achievement-popup"></div>
    </div>
    <div id="achievements-screen" class="screen">
        <div class="stars"></div><div class="stars2"></div><div class="stars3"></div>
        <a href="#" id="achievements-back-button">Back</a>
        <div class="achievements-content">
            <h2 class="achievements-title">ACHIEVEMENTS</h2>
            <div class="category-container">
                <div class="category-header"> <h3 class="category-title">Common</h3> <span class="category-toggle">[-]</span> </div>
                <div class="category-content">
                    <div id="ach-first-words" class="achievement-card locked">
                        <div class="achievement-icon"> <span class="icon-text">???</span> <img class="icon-image" src="image-removebg-preview (1).png" alt="Icon"> </div>
                        <div class="achievement-details"> <h3 id="ach-first-words-title">???</h3> <p id="ach-first-words-desc">???</p> </div>
                        <span class="achievement-status">Locked</span>
                    </div>
                    <div id="ach-100-interactions" class="achievement-card locked">
                        <div class="achievement-icon"> <span class="icon-text">???</span> <img class="icon-image" src="image-ezgif.com-crop.png" alt="Icon"> </div>
                        <div class="achievement-details"> <h3 id="ach-100-interactions-title">???</h3> <p id="ach-100-interactions-desc">???</p> </div>
                        <span class="achievement-status">Locked</span>
                    </div>
                    <div id="ach-petpet" class="achievement-card locked">
                        <div class="achievement-icon"> <span class="icon-text">???</span> <img class="icon-image" src="petpet.png" alt="Icon"> </div>
                        <div class="achievement-details"> <h3 id="ach-petpet-title">???</h3> <p id="ach-petpet-desc">???</p> </div>
                        <span class="achievement-status">Locked</span>
                    </div>
                </div>
            </div>
            <div class="category-container">
                <div class="category-header"> <h3 class="category-title">Uncommon</h3> <span class="category-toggle">[+]</span> </div>
                <div class="category-content collapsed"> <p class="placeholder">More achievements coming soon...</p> </div>
            </div>
            <div class="category-container">
                <div class="category-header"> <h3 class="category-title">Rare</h3> <span class="category-toggle">[+]</span> </div>
                <div class="category-content collapsed"> <p class="placeholder">More achievements coming soon...</p> </div>
            </div>
            <div class="category-container">
                <div class="category-header"> <h3 class="category-title">Epic</h3> <span class="category-toggle">[+]</span> </div>
                <div class="category-content collapsed"> <p class="placeholder">More achievements coming soon...</p> </div>
            </div>
            <div class="category-container">
                <div class="category-header"> <h3 class="category-title">Legendary</h3> <span class="category-toggle">[+]</span> </div>
                <div class="category-content collapsed"> <p class="placeholder">More achievements coming soon...</p> </div>
            </div>
        </div>
        <div class="scrollbar"><div class="scrollbar-thumb"></div></div>
    </div>
    <div id="credits-screen" class="screen">
        <div class="fade"></div>
        <section class="star-wars">
            <div class="crawl">
                <div class="title"> <h1>Ask Cat</h1> <h3>Pre-alpha (v0.1)</h3> </div>
                <p>a simple web game inspired from a gif posted by Imangalilili_goofy.</p> <br><br>
                <p>Development Team</p> <p>Lead Developer - painsel</p> <p>Lead Animator - that7mad</p> <p>Server Manager & Source of Inspiration - Imangalilili_goofy</p> <br><br>
                <p>Early Access Supporters - Serious Boy, tom, Jeriye, Honda, MAXXMUGA, Naughtlapis, and Squid</p> <br><br>
                <h1>**End Of Credits**</h1>
            </div>
        </section>
    </div>
    <div id="community-screen" class="screen">
        <a href="#" id="community-back-button">Back</a>
        <iframe src="https://discord.com/widget?id=1421121490463490071&theme=dark" width="350" height="500" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
    </div>
    <div id="announcement-modal">
        <div class="modal-content">
            <h2>v0.2 UPDATE! Part 1/20</h2>
            <ul>
                <li>Added 2 Achievements</li>
                <li>Added in-game Announcements</li>
            </ul>
            <button class="modal-close">Close</button>
        </div>
    </div>
    <audio id="tos-audio" loop><source src="https://dn721605.ca.archive.org/0/items/undertaleost_202004/Undertale%20-%20Lossless%20Soundtrack%20%28toby%20fox%29/toby%20fox%20-%20UNDERTALE%20Soundtrack%20-%2002%20Start%20Menu.flac" type="audio/flac"></audio>
    <audio id="menu-audio" loop> <source src="https://dn721605.ca.archive.org/0/items/undertaleost_202004/Undertale%20-%20Lossless%20Soundtrack%20%28toby%20fox%29/toby%20fox%20-%20UNDERTALE%20Soundtrack%20-%2093%20Menu%20%28Full%29.flac" type="audio/flac"> </audio>
    <audio id="achievements-audio" loop><source src="https://dn721605.ca.archive.org/0/items/undertaleost_202004/Undertale%20-%20Lossless%20Soundtrack%20%28toby%20fox%29/toby%20fox%20-%20UNDERTALE%20Soundtrack%20-%2020%20Mysterious%20Place.flac" type="audio/flac"></audio>
    <audio id="credits-audio" loop><source src="https://dn721605.ca.archive.org/0/items/undertaleost_202004/Undertale%20-%20Lossless%20Soundtrack%20%28toby%20fox%29/toby%20fox%20-%20UNDERTALE%20Soundtrack%20-%2005%20Ruins.flac" type="audio/flac"></audio>

    <script>
        // Get all elements
        const loadingScreen = document.getElementById('loading-screen');
        const startButton = document.getElementById('start-button');
        const tosScreen = document.getElementById('tos-screen');
        const acceptButton = document.getElementById('accept-button');
        const startScreen = document.getElementById('start-screen');
        const playButton = document.getElementById('play-button');
        const gameScreen = document.getElementById('game-screen');
        const catImage = document.getElementById('cat-image');
        const achievementsButton = document.getElementById('achievements-button');
        const aiBubble = document.getElementById('ai-bubble');
        const aiResponseText = document.getElementById('ai-response-text');
        const promptForm = document.getElementById('prompt-form');
        const promptInput = document.getElementById('prompt-input');
        const promptSubmit = document.getElementById('prompt-submit');
        const gameBackButton = document.getElementById('game-back-button');
        const achievementsScreen = document.getElementById('achievements-screen');
        const achievementsBackButton = document.getElementById('achievements-back-button');
        const achievementPopup = document.getElementById('achievement-popup');
        const gifBubble = document.getElementById('gif-bubble');
        const creditsButton = document.getElementById('credits-button');
        const creditsScreen = document.getElementById('credits-screen');
        const announcementGif = document.getElementById('announcement-gif');
        const announcementModal = document.getElementById('announcement-modal');
        const modalCloseButton = document.querySelector('.modal-close');
        const communityButton = document.getElementById('community-button');
        const communityScreen = document.getElementById('community-screen');
        const communityBackButton = document.getElementById('community-back-button');

        const tosAudio = document.getElementById('tos-audio');
        const menuAudio = document.getElementById('menu-audio');
        const achievementsAudio = document.getElementById('achievements-audio');
        const creditsAudio = document.getElementById('credits-audio');

        let interactionCount = 0;
        let achievements = {
            firstWords: { unlocked: false, card: document.getElementById('ach-first-words'), title: document.getElementById('ach-first-words-title'), desc: document.getElementById('ach-first-words-desc'), status: document.querySelector('#ach-first-words .achievement-status') },
            interactions100: { unlocked: false, card: document.getElementById('ach-100-interactions'), title: document.getElementById('ach-100-interactions-title'), desc: document.getElementById('ach-100-interactions-desc'), status: document.querySelector('#ach-100-interactions .achievement-status') },
            petpet: { unlocked: false, card: document.getElementById('ach-petpet'), title: document.getElementById('ach-petpet-title'), desc: document.getElementById('ach-petpet-desc'), status: document.querySelector('#ach-petpet .achievement-status') }
        };

        // --- RESTORED: The gigantic cat "brain" ---
        const catResponses = { "hello": "Mrow!? ðŸ‘‹", "hi": "Mrow!? ðŸ‘‹", "hey": "Prrr?", "morning": "*stretches* Mrrrrow... â˜€ï¸", "night": "*curls up* Zzzz... ðŸŒ™", "sup": "Napping. What's up with you? ðŸ˜´", "food": "Meow! ðŸŸ", "treats": "Prrrr! ðŸ˜»", "play": "*pounces* ðŸ˜¼", "cute": "*purrs softly* ðŸ¥°", "love": "*rubs against you* â¤ï¸", "cat": "Meow. ðŸ¾", "hungry": "The bowl is HALF empty! A tragedy! ðŸ˜¿", "sleepy": "Time for a cat nap... ðŸ˜´", "pet": "*happy purring noises* ðŸ¥°", "good kitty": "Hehe, I know! ðŸ˜‡", "bad kitty": "Wasn't me. It was the dog. ðŸ˜‡", "pspsps": "*ear twitches*... You called? ðŸ˜¼", "purr": "*purrrrrrrrrrrrrrrrrrr* â¤ï¸", "how are you": "Feelin' purrfect! âœ¨", "what are you doing": "Cat things. You wouldn't understand. ðŸ˜¼", "name": "I'm just a cat! ðŸˆ", "who are you": "Your supreme overlord. ðŸ‘‘", "where are you": "In my secret hiding spot. ðŸ¤«", "why": "Because I'm a cat. That's why. ðŸ¤·", "what's new": "I took a nap. Then another one. ðŸ˜´", "are you real": "As real as the next meal you're getting me. ðŸ¤¨", "sad": "Come here, I'll purr for you. â¤ï¸", "happy": "*tail wags happily* Mrow! ðŸ˜„", "angry": "Hiss! ðŸ˜ ", "scared": "*hides under the sofa* ðŸ«£", "bored": "Entertain me, human. ðŸ§", "lonely": "Then you should pet me more. ðŸ™", "ball": "Ball! *pounces*", "yarn": "Ooh, string! ðŸ§¶", "laser": "*eyes widen* The red dot! âœ¨", "mouse": "Squeak! *pounces*", "toy": "Is it for pouncing on? ðŸ˜¼", "catnip": "Whoa... the colors... ðŸ˜µâ€ðŸ’«", "sunbeam": "Must... lie... in... sun... â˜€ï¸", "window": "*chitters at the birds* ðŸ¦", "door": "Let me out. No, let me in. No, out. ðŸ¤”", "outside": "I see birds out there! Let me out! ðŸ¦", "rain": "I do not approve of wet. ðŸŒ§ï¸", "bed": "You mean *my* bed? ðŸ›ï¸", "beautiful": "I know, thank you. ðŸ’…", "fluffy": "The fluffiest! â˜ï¸", "smart": "Of course I am. I'm a cat. ðŸ§ ", "silly": "I know you are, but what am I? ðŸ˜œ", "lazy": "It's called conserving energy. ðŸ”‹", "come here": "Make me. ðŸ˜¼", "speak": "I am! You just don't listen. ðŸ—£ï¸", "jump": "*boing* âœ¨", "run": "*zoomies activated* ðŸ’¨", "lol": "Hehe! ðŸ˜¹", "wow": "I know, I'm amazing. âœ¨", "sorry": "You should be. Now where are the treats? ðŸ¤¨", "friend": "You are my favorite human. For now. ðŸ¥°", "computer": "A warm place to sit. ðŸ’»", "phone": "Something to knock off the table. ðŸ“±", "book": "Also a warm place to sit. ðŸ“š", "music": "Does it have purring in it? ðŸŽ¶", "dance": "*wiggles butt* ðŸ’ƒ", "sing": "Meow meow meooooow! ðŸŽ¤", "i'm home": "Finally! My food bowl attendant has returned. ðŸ§", "what is": "It's a cat thing. ðŸ¤·", "can you": "Maybe. If there are treats involved. ðŸŸ", "do you": "Sometimes. ðŸ˜¼", "tell me a secret": "I know where all the best napping spots are. ðŸ¤«", "joke": "Why don't cats play poker in the jungle? Too many cheetahs! ðŸ˜¹", "story": "Once upon a time, a cat took a nap. The end. ðŸ˜´", "poem": "Soft kitty, warm kitty, little ball of fur... ðŸŽ¶", "song": "Meow meow meow, meow meow meow... ðŸŽµ", "magic": "I can disappear whenever someone says 'bath time'. âœ¨", "dream": "I dream of chasing mice the size of dogs. ðŸ­", "biscuit": "*kneads paws happily* â¤ï¸", "clean": "*licks paw* Gotta stay fabulous. ðŸ’…", "chaos": "Did someone say chaos? *knocks something over* ðŸ˜ˆ", "red": "The red dot is my mortal enemy. ðŸ’¥", "green": "Like my eyes! Or catnip. ðŸŒ±", "blue": "The sky is nice to watch birds in. ðŸ¦", "fight": "*puffs up fur* I'm big and scary! ðŸ˜ ", "friendship": "Is when you give me pets and food. ðŸ¥°", "water": "No thank you. ðŸ’§", "fire": "Warm and nice to sleep near. ðŸ”¥", "earth": "Good for digging. ðŸ¾", "air": "Full of interesting smells. ðŸ‘ƒ", "human": "My loyal staff. ðŸ§", "robot": "Does it give treats? ðŸ¤–", "alien": "A strange-looking bird, maybe? ðŸ‘½", "monster": "*hides* ðŸ«£", "ghost": "I can see them, you can't. ðŸ‘»", "party": "Is there tuna? ðŸ¥³", "nap": "Don't mind if I do. ðŸ˜´", "cuddle": "Only on my terms. ðŸ˜¼", "scratch": "*scratches post vigorously* ðŸ’ª", "stretch": "Ooooh big stretch! ðŸ§˜", "climb": "I am the king of this castle! ðŸ‘‘", };
        const defaultCatResponses = ["...?", "*stares blankly* ðŸ‘€", "*tilts head*", "prrrr... â¤ï¸", "mrow? ðŸ¥º"];
        function getCatResponse(userInput) { const lowerInput = userInput.toLowerCase(); for (const keyword in catResponses) { if (lowerInput.includes(keyword)) { return catResponses[keyword]; } } const randomIndex = Math.floor(Math.random() * defaultCatResponses.length); return defaultCatResponses[randomIndex]; }
        function typeResponse(text) { let i = 0; aiResponseText.innerHTML = ''; const typingInterval = setInterval(() => { if (i < text.length) { aiResponseText.innerHTML += text.charAt(i); i++; } else { clearInterval(typingInterval); promptInput.disabled = false; promptSubmit.disabled = false; promptInput.focus(); } }, 50); }
        function checkForPetpet(userInput) { const lowerInput = userInput.toLowerCase(); const petpetTriggers = ["petpet", "pet the cat", "good kitty", "good boy", "good girl", "head pats", "who's a good kitty"]; return petpetTriggers.some(trigger => lowerInput.includes(trigger)); }

        // Event Listeners
        startButton.addEventListener('click', (e) => { e.preventDefault(); loadingScreen.style.display = 'none'; tosScreen.style.display = 'flex'; tosAudio.play().catch(console.error); });
        acceptButton.addEventListener('click', (e) => { e.preventDefault(); tosAudio.pause(); tosAudio.currentTime = 0; tosScreen.style.display = 'none'; startScreen.style.display = 'flex'; menuAudio.play().catch(console.error); });
        playButton.addEventListener('click', (e) => { e.preventDefault(); menuAudio.pause(); menuAudio.currentTime = 0; startScreen.style.display = 'none'; gameScreen.style.display = 'flex'; });
        creditsButton.addEventListener('click', (e) => { e.preventDefault(); menuAudio.pause(); menuAudio.currentTime = 0; startScreen.style.display = 'none'; creditsScreen.style.display = 'flex'; creditsAudio.play().catch(console.error); });
        creditsScreen.addEventListener('click', () => { creditsAudio.pause(); creditsAudio.currentTime = 0; creditsScreen.style.display = 'none'; startScreen.style.display = 'flex'; menuAudio.play().catch(console.error); });
        communityButton.addEventListener('click', (e) => { e.preventDefault(); menuAudio.pause(); menuAudio.currentTime = 0; startScreen.style.display = 'none'; communityScreen.style.display = 'flex'; });
        communityBackButton.addEventListener('click', (e) => { e.preventDefault(); communityScreen.style.display = 'none'; startScreen.style.display = 'flex'; menuAudio.play().catch(console.error); });
        
        const achievementToggles = document.querySelectorAll('.category-header');
        achievementToggles.forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const toggleButton = header.querySelector('.category-toggle');
                content.classList.toggle('collapsed');
                if (content.classList.contains('collapsed')) {
                    toggleButton.textContent = '[+]';
                } else {
                    toggleButton.textContent = '[-]';
                }
            });
        });

        achievementsButton.addEventListener('click', (e) => { e.preventDefault(); menuAudio.pause(); menuAudio.currentTime = 0; startScreen.style.display = 'none'; achievementsScreen.style.display = 'flex'; achievementsAudio.play().catch(console.error); });
        achievementsBackButton.addEventListener('click', (e) => { e.preventDefault(); achievementsAudio.pause(); achievementsAudio.currentTime = 0; achievementsScreen.style.display = 'none'; startScreen.style.display = 'flex'; menuAudio.play().catch(console.error); });
        catImage.addEventListener('click', () => { const isHidden = gifBubble.style.display === 'none' || gifBubble.style.display === ''; gifBubble.style.display = isHidden ? 'block' : 'none'; aiBubble.style.display = 'none'; });
        gameBackButton.addEventListener('click', (e) => { e.preventDefault(); gameScreen.style.display = 'none'; startScreen.style.display = 'flex'; aiBubble.style.display = 'none'; gifBubble.style.display = 'none'; aiResponseText.innerHTML = 'Ask me something...'; promptInput.value = ''; menuAudio.play().catch(console.error); });
        announcementGif.addEventListener('click', () => { announcementModal.style.display = 'flex'; });
        modalCloseButton.addEventListener('click', () => { announcementModal.style.display = 'none'; });

        promptForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userPrompt = promptInput.value.trim();
            if (!userPrompt) return;
            gifBubble.style.display = 'none'; aiBubble.style.display = 'block';
            promptInput.disabled = true; promptSubmit.disabled = true;
            
            const catResponse = getCatResponse(userPrompt);
            typeResponse(catResponse);
            
            interactionCount++;

            if (!achievements.firstWords.unlocked) {
                achievements.firstWords.unlocked = true;
                achievements.firstWords.card.classList.remove('locked'); achievements.firstWords.card.classList.add('unlocked');
                achievements.firstWords.status.textContent = 'Unlocked';
                achievements.firstWords.title.textContent = 'First Words';
                achievements.firstWords.desc.textContent = 'Begin your journey by asking the cat your first question.';
                achievementPopup.textContent = "Achievement Unlocked: First Words!";
                achievementPopup.classList.add('show');
                setTimeout(() => { achievementPopup.classList.remove('show'); }, 4000);
            }

            if (interactionCount >= 100 && !achievements.interactions100.unlocked) {
                achievements.interactions100.unlocked = true;
                achievements.interactions100.card.classList.remove('locked'); achievements.interactions100.card.classList.add('unlocked');
                achievements.interactions100.status.textContent = 'Unlocked';
                achievements.interactions100.title.textContent = '100 Interactions!';
                achievements.interactions100.desc.textContent = 'Reached 100 interactions with the cat.';
                achievementPopup.textContent = "Achievement Unlocked: 100 Interactions!";
                achievementPopup.classList.add('show');
                setTimeout(() => { achievementPopup.classList.remove('show'); }, 4000);
            }

            if (checkForPetpet(userPrompt) && !achievements.petpet.unlocked) {
                achievements.petpet.unlocked = true;
                achievements.petpet.card.classList.remove('locked'); achievements.petpet.card.classList.add('unlocked');
                achievements.petpet.status.textContent = 'Unlocked';
                achievements.petpet.title.textContent = 'Petpet!';
                achievements.petpet.desc.textContent = "Who's a good kitty?";
                achievementPopup.textContent = "Achievement Unlocked: Petpet!";
                achievementPopup.classList.add('show');
                setTimeout(() => { achievementPopup.classList.remove('show'); }, 4000);

                const originalSrc = catImage.src;
                catImage.src = '2fb22c59-ff7f-4a27-b26d-c0946111c7b5.gif';
                setTimeout(() => { catImage.src = originalSrc; }, 10000);
            }

            promptInput.value = '';
        });
    </script>
</body>
</html>
